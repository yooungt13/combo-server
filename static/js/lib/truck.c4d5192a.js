!function(win,doc,undefined){"use strict";var __defineQueue=[],uniformIndex=0,requirejs={},assets={},util={};if(win.define&&win.define.amd)return!1;util={isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},depExtend:function(e,t){function i(e,n){if(!n[e]){t[e]?n[e]={count:0,link:t[e]}:n[e]={count:0,link:[]};for(var r=0;r<n[e].link.length;r++)i(n[e].link[r],n),n[n[e].link[r]].count++}}function n(e){var t=[];for(s in e)0==e[s].count&&t.push(s);for(var i=0;i<t.length;i++)for(var n=e[t[i]],r=0;r<n.link.length;r++)e[n.link[r]].count--,0===e[n.link[r]].count&&t.push(n.link[r]);for(var s in e)if(0!==e[s].count)throw"Cycling dependencies occured:"+s;return t.reverse()}for(var r={},s=0;s<e.length;s++)i(e[s],r);return n(r)},extend:function(e,t,i){for(var n in t)"_"===n.indexOf(0)||(i||e[n])&&!i||(e[n]=t[n]);return e},baseUrl:function(){var e=/[^?#]*\//,t=doc.scripts,i=doc.getElementById("truckjsnode")||t[t.length-1];return i.src.match(e)&&i.src.match(e)[0]}()};var LS={isSupported:function(){try{if(!("localStorage"in window&&window.localStorage))return!1;localStorage.setItem("~_~",1),localStorage.removeItem("~_~")}catch(e){return!1}return!0}(),getItem:function(e){try{return localStorage.getItem(e)}catch(t){}},setItem:function(e,t){try{localStorage.setItem(e,t)}catch(i){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(t){}}};assets={config:function(e){var t={cacheKey:"rslist",cachePrefix:"s~",prefix:"",isDev:!1},i=!1;return util.extend(e,t,i),e.revrev&&e.revision&&LS.isSupported?(LS.setItem("revstore",JSON.stringify(e.revision)),document.cookie="revrev="+e.revrev+"; expires="+new Date((new Date).getTime()+9999e5).toGMTString()+"; path=/"):e.revrev&&!e.revision&&(e.revision=JSON.parse(LS.getItem("revstore")),e.revision||(document.cookie="revrev=0; path=/",location.href=location.href)),e.revrev&&e.combo&&e.combo.deps?LS.setItem("depsstore",JSON.stringify(e.combo.deps)):e.revrev&&e.combo&&!e.combo.deps&&(e.combo.deps=JSON.parse(LS.getItem("depsstore"))),this.config=e},resources:null,initialize:function(){var e,t=this;if(util.isFunction(t.config)&&this.config(),e=t.config,e.revision&&LS.isSupported){t.resources=localStorage[e.cachePrefix+e.cacheKey],t.resources?(t.resources=JSON.parse(t.resources),t._updateWholeCache()):t.resources={};try{localStorage.setItem(e.cachePrefix+e.cacheKey,JSON.stringify(t.resources))}catch(i){localStorage.clear(),t.resources={}}}else t.resources={}},_updateWholeCache:function(){var e,t,i,n=this,r=n.config,s=n.resources,o=r.revision;for(e in o)i=o.hasOwnProperty(e)&&s.hasOwnProperty(e)&&(t=o[e])===s[e].v&&localStorage[r.cachePrefix+e]&&localStorage[r.cachePrefix+e].length===s[e].l,i||(s[e]=undefined,localStorage.removeItem(r.cachePrefix+e))},updateCachedItem:function(e,t){if(!LS.isSupported)return!1;var i=this,n=i.resources,r=i.config,s=r.revision,o=e.id;n[o]={v:s&&s[o],l:t.length},n[o].v&&(LS.setItem(r.cachePrefix+o,t),LS.setItem(r.cachePrefix+r.cacheKey,JSON.stringify(n)))},getCachedItem:function(e){return LS.getItem(this.config.cachePrefix+e.id)}};var Module=function(e){this.id=e.id||"anonymous",this.callback=e.callback||null,this.depend=e.depend||[],this.requireing=[],this.following=[],this.status=e.status||"inited",this.result=e.result,requirejs.addModule(this)};if(Module.prototype={constructor:Module,inited:function(){},loading:function(){"inited"==this.status&&requirejs.loadModules([this])},loaded:function(){("loading"==this.status||"inited"==this.status)&&(this.status="loaded",this.depending())},depending:function(){if("loaded"==this.status){this.status="depending";for(var e=0;e<this.depend.length;e++){var t=requirejs.getModule(this.depend[e]);t||(t=new Module({id:this.depend[e]})),"executed"!=t.status&&(t.following.push(this),this.requireing.push(t))}if(0==this.requireing.length)this.ready();else{var i=requirejs.config.combo;if(i&&i.deps)var n=util.depExtend(this.depend,i.deps);else var n=this.depend;for(var r=[],e=0;e<n.length;e++){var s=n[e],t=requirejs.getModule(s);t||(t=new Module({id:s})),"inited"==t.status&&r.push(t)}var o={sumCount:n.length,startTime:(new Date).getTime(),lsCount:0,lsSize:0};requirejs.loadModules(r,o)}}},ready:function(){var e=this;"depending"==this.status&&0==this.requireing.length&&(this.status="ready",this.executing(),setTimeout(function(){for(var t=0;t<e.following.length;t++){var i=e.following[t];i.requireing.splice(i.requireing.indexOf(e),1),0==i.requireing.length&&i.ready()}e.following=[]}))},executing:function(){"ready"===this.status&&(this.status="executing",util.isFunction(this.callback)?this.result=this.callback.apply({},requirejs.getResults(this.depend)):this.result=this.callback,this.executed())},executed:function(){this.status="executed"}},requirejs={version:"0.2.1",moduleList:{},addModule:function(e){this.moduleList[e.id]=e},getModule:function(e){return this.moduleList[e]},config:function(e){var t={baseUrl:util.baseUrl},i=!0;return util.extend(t,e||{},i),this.config=t},define:function(e,t){util.isFunction(e)&&(t=e,e=[]),__defineQueue.push({callback:t,depend:e})},require:function(e,t){util.isFunction(e)&&(t=e,e=[]),util.isFunction(this.config)&&this.config(),util.isFunction(assets.config)&&(assets.config(this.config),assets.initialize());var i=new Module({id:"require"+uniformIndex++,callback:t,depend:e,status:"loaded"});i.depending()},id2Url:function(e){var t="",i=e.split("."),n=i.length;return this.config.revision&&this.config.revision[e]&&(t=this.config.revision[e],i.splice(n-1,0,t),e=i.join(".")),this.config.prefix+e},loadModules:function(e,t){for(var i=this,n=this.config.combo,r=0;r<e.length;r++)if(assets.resources[e[r].id]){var s=assets.getCachedItem(e[r]);s.replace(/\s+/,"")?i._geval(s):console.error(e[r].id+" is blank"),e[r].callback=__defineQueue[0].callback,e[r].depend=__defineQueue[0].depend,__defineQueue=[],e[r].loaded(),e.splice(r,1),r--,t.lsCount++,t.lsSize+=s.length}if(n&&e.length>0){for(var o=n.url,u=[],r=0;r<e.length;r++)u.push(this.id2Url(e[r].id)),e[r].status="loading";this._fetchByXHR(o+u.join(";"),function(i){if(i)var n=i.split(/\/\*___meta___.*\*\//);for(var r=0;r<e.length;r++)e[r].callback=__defineQueue[r].callback,e[r].depend=__defineQueue[r].depend,!i||n&&n[r+1]||console.error(e[r],n),i&&assets.updateCachedItem(e[r],n[r+1]),e[r].loaded();__defineQueue=[],t.xhrSize=i&&i.length,t.xhrCount=u.length})}else 0!=e.length?e.forEach(function(e){e.status="loading",i._fetchByXHR(i.config.baseUrl+i.id2Url(e.id),function(t){e.callback=__defineQueue[0].callback,e.depend=__defineQueue[0].depend,t&&assets.updateCachedItem(e,t),e.loaded(),__defineQueue=[]},e.id)}):(t.xhrCount=0,t.xhrSize=0)},getResults:function(e){var t,i=this,n=[];return e.forEach(function(e){t=i.getModule(e),t&&"executed"==t.status?n.push(t.result):console.log("get result faild:"+e)}),n},_fetchByXHR:function(e,t,i){var n=this,r=new XMLHttpRequest,s=/^([\w]+:)\/\//.test(e)?RegExp.$1:window.location.protocol;r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&(r.status>=200&&r.status<300||304===r.status||0===r.status&&"file:"===s?(r.onreadystatechange=null,i&&-1==r.responseText.indexOf("define")?-1!=i.indexOf("css.js")?n._geval('define([],function(){var s=document.createElement("style");s.innerHTML='+JSON.stringify(r.responseText)+";document.head.appendChild(s);});",i):n._geval("define([],function(){return "+JSON.stringify(r.responseText)+";});"):n._geval(r.responseText,i),t(r.responseText)):n._fetchByInject(e,t))},r.send(null)},_fetchByInject:function(e,t){var i=doc.createElement("script"),n=(Date.now(),document.getElementsByTagName("script")[0]);i.type="text/javascript",i.async=!0,i.src=e,i.onload=function(){t()},n.parentNode.insertBefore(i,n)},_geval:function(src,name){try{name&&(src+="\n //@ sourceURL="+name),eval(src)}catch(e){console.log(e)}}},win.require=function(){requirejs.require.apply(requirejs,arguments)},win.define=function(){requirejs.define.apply(requirejs,arguments)},win.define.amd={},new Module({id:"LocalStorage",status:"executed",result:LS}),win.requirejs&&win.requirejs.__requirejsConfig&&requirejs.config(win.requirejs.__requirejsConfig),win.requirejs&&win.requirejs.__require){var load=function(){setTimeout(function(){for(var e=0;e<win.requirejs.__require.length;e++)require(win.requirejs.__require[e][0],win.requirejs.__require[e][1]);win.requirejs=requirejs})},readyRE=/complete|loaded|interactive/;readyRE.test(document.readyState)&&document.body?load():document.addEventListener("DOMContentLoaded",load,!1)}else win.requirejs=requirejs}(window,document);